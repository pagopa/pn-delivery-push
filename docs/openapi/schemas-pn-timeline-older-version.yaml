
components:
  schemas:
    TimelineElementId:
      type: string

      ############################################################################################
      ###                           Timeline Element Category                                  ###
      ############################################################################################
    
    TimelineElementCategoryV23:
      type: string
      description: >
        stato di avanzamento del processo di notifica:`
          * `SENDER_ACK_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'atto opponibile a terzi di presa in carico per il mittente a safe storage
          * `VALIDATE_NORMALIZE_ADDRESSES_REQUEST` - Invio della richiesta di validazione e normalizzazione indirizzi fisici presenti nella richiesta di notifica
          * `NORMALIZED_ADDRESS` - Salvataggio indirizzi normalizzati
          * `REQUEST_ACCEPTED` - Richiesta di notifica accettata a seguito dei controlli di validazione
          * `REQUEST_REFUSED` - Richiesta di notifica rifiutata per fallimento di validazione
          * `SEND_COURTESY_MESSAGE` - Invio di un messaggio di cortesia
          * `GET_ADDRESS` - Disponibilità dell’indirizzo specifico (domicilio digitale di piattaforma, domicilio digitale speciale, domicilio digitale generale, indirizzo fisico sulla notifica o sui registri nazionali)
          * `PUBLIC_REGISTRY_CALL` - Richiesta ai registri pubblici per ottenere domicilio digitale generale o per ottenere indirizzo fisico da ANPR, da registro della imprese, da anagrafe tributaria.
          * `PUBLIC_REGISTRY_RESPONSE` - Ricevuta la risposta dei registri pubblici
          * `SCHEDULE_ANALOG_WORKFLOW` - Pianificazione del workflow per invio cartaceo
          * `SCHEDULE_DIGITAL_WORKFLOW` -Pianificazione del workflow per invio digitale (PEC) del secondo tentativo in caso di fallimento del primo.
          * `PREPARE_DIGITAL_DOMICILE` - Preparazione per l’invio dell’avviso digitale.Va a valutare la timeline per capire quale sarà il prossimo indirizzo da usare.
          * `SEND_DIGITAL_DOMICILE` - Invio digitale dell’avviso di notifica
          * `SEND_DIGITAL_PROGRESS` - Tentativo di Invio PEC ad un determinato indirizzo.
          * `SEND_DIGITAL_FEEDBACK` - Ottenuto esito ad un invio digitale
          * `SCHEDULE_REFINEMENT` - Pianificato il perfezionamento per decorrenza termini
          * `REFINEMENT` - Perfezionamento per decorrenza termini
          * `DIGITAL_DELIVERY_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'atto opponibile a terzi di chiusura del workflow digitale a safe storage
          * `DIGITAL_SUCCESS_WORKFLOW` - Completato con successo il workflow di invio digitale
          * `DIGITAL_FAILURE_WORKFLOW` - Completato con fallimento il workflow di invio digitale: tutti i tentativi di invio ai domicili digitali sono falliti.
          * `ANALOG_SUCCESS_WORKFLOW` - Completato con successo il workflow di invio cartaceo
          * `ANALOG_FAILURE_WORKFLOW` - Completato con fallimento il workflow di invio cartaceo NOTA: se per tutti i destinatari si conclude il workflow con fallimento verrà scatenato l’evento COMPLETELY_UNREACHABLE
          * `PREPARE_SIMPLE_REGISTERED_LETTER` - Invio richiesta di prepare (preparazione ad invio) raccomandata semplice a paperChannel
          * `SEND_SIMPLE_REGISTERED_LETTER` - Invio di raccomandata semplice
          * `SEND_SIMPLE_REGISTERED_LETTER_PROGRESS` - Ricezione informazioni intermedia relative ad una notificazione cartacea semplice
          * `NOTIFICATION_VIEWED_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'atto opponibile a terzi di presa visione a safe storage
          * `NOTIFICATION_VIEWED` - Visualizzazione della notifica (perfeziona la notifica se non già perfezionata per decorrenza termini o da altro destinatario)
          * `PREPARE_ANALOG_DOMICILE` - Invio richiesta di prepare (preparazione ad invio) cartaceo a paperChannel
          * `SEND_ANALOG_DOMICILE` - Invio cartaceo dell’avviso di notifica
          * `SEND_ANALOG_PROGRESS` - Ricezione informazioni intermedia relative ad una notificazione cartacea
          * `SEND_ANALOG_FEEDBACK` - Ricezione esito dell'invio cartaceo
          * `COMPLETELY_UNREACHABLE_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'atto (simile a opponibile a terzi) di completamento con fallimento del workflow di invio cartaceo
          * `COMPLETELY_UNREACHABLE` - Tutti i destinatari risultano irraggiungibili
          * `AAR_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'AAR (Avviso di Avvenuta Ricezione) a safe storage
          * `AAR_GENERATION` - Generazione dell’AAR (Avviso di Avvenuta Ricezione)
          * `PAYMENT` - Evento di ricezione __dal mittente__ dell'informazione di chiusura di uno o più pagamenti di tipo pagoPA (vedi #/components/schemas/PagoPaPayment). La presenza di questo evento inibisce l'invio di eventuali comunicazioni analogiche future ma non perfeziona la notifica.
          * `NOT_HANDLED` - [DEPRECATO] Per la sperimentazione l'invio analogico non è previsto, viene inserito tale elemento di timeline
          * `PROBABLE_SCHEDULING_ANALOG_DATE` - Data probabile di inizio del flusso analogico
          * `NOTIFICATION_CANCELLATION_REQUEST` - Richiesta di annullamento di una notifica
          * `NOTIFICATION_CANCELLED` - Notifica annullata
          * `PREPARE_ANALOG_DOMICILE_FAILURE` - Fallimento della richiesta di prepare (preparazione ad invio) cartaceo a paperChannel
          * `NOTIFICATION_RADD_RETRIEVED` - Accesso alla notifica tramite la rete RADD. Non perfeziona la notifica.
      #  categorie di diagnostica da non mostrare all'esterno: # NO EXTERNAL
      #   * `VALIDATE_F24_REQUEST` - Invio della richiesta di validazione degli F24 presenti nella richiesta di notifica # NO EXTERNAL
      #   * `VALIDATED_F24` - F24 validato # NO EXTERNAL
      #   * `GENERATE_F24_REQUEST` - Invio della richiesta di generazione degli F24 presenti nella richiesta di notifica con costo base # NO EXTERNAL
      #   * `GENERATED_F24` - F24 generati # NO EXTERNAL
      enum:
        - SENDER_ACK_CREATION_REQUEST
        - VALIDATE_NORMALIZE_ADDRESSES_REQUEST
        - NORMALIZED_ADDRESS
        - REQUEST_ACCEPTED
        - SEND_COURTESY_MESSAGE
        - GET_ADDRESS
        - PUBLIC_REGISTRY_CALL
        - PUBLIC_REGISTRY_RESPONSE
        - SCHEDULE_ANALOG_WORKFLOW
        - SCHEDULE_DIGITAL_WORKFLOW
        - PREPARE_DIGITAL_DOMICILE
        - SEND_DIGITAL_DOMICILE
        - SEND_DIGITAL_PROGRESS
        - SEND_DIGITAL_FEEDBACK
        - REFINEMENT
        - SCHEDULE_REFINEMENT
        - DIGITAL_DELIVERY_CREATION_REQUEST
        - DIGITAL_SUCCESS_WORKFLOW
        - DIGITAL_FAILURE_WORKFLOW
        - ANALOG_SUCCESS_WORKFLOW
        - ANALOG_FAILURE_WORKFLOW
        - PREPARE_SIMPLE_REGISTERED_LETTER
        - SEND_SIMPLE_REGISTERED_LETTER
        - SEND_SIMPLE_REGISTERED_LETTER_PROGRESS
        - NOTIFICATION_VIEWED_CREATION_REQUEST
        - NOTIFICATION_VIEWED
        - PREPARE_ANALOG_DOMICILE
        - SEND_ANALOG_DOMICILE
        - SEND_ANALOG_PROGRESS
        - SEND_ANALOG_FEEDBACK
        - PAYMENT
        - COMPLETELY_UNREACHABLE
        - COMPLETELY_UNREACHABLE_CREATION_REQUEST
        - REQUEST_REFUSED
        - AAR_CREATION_REQUEST
        - AAR_GENERATION
        - NOT_HANDLED
        - PROBABLE_SCHEDULING_ANALOG_DATE
        - NOTIFICATION_CANCELLATION_REQUEST
        - NOTIFICATION_CANCELLED
        - PREPARE_ANALOG_DOMICILE_FAILURE
        - NOTIFICATION_RADD_RETRIEVED

    TimelineElementCategoryV26:
      type: string
      description: >
        stato di avanzamento del processo di notifica:`
          * `SENDER_ACK_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'atto opponibile a terzi di presa in carico per il mittente a safe storage
          * `VALIDATE_NORMALIZE_ADDRESSES_REQUEST` - Invio della richiesta di validazione e normalizzazione indirizzi fisici presenti nella richiesta di notifica
          * `NORMALIZED_ADDRESS` - Salvataggio indirizzi normalizzati
          * `REQUEST_ACCEPTED` - Richiesta di notifica accettata a seguito dei controlli di validazione
          * `REQUEST_REFUSED` - Richiesta di notifica rifiutata per fallimento di validazione
          * `SEND_COURTESY_MESSAGE` - Invio di un messaggio di cortesia
          * `GET_ADDRESS` - Disponibilità dell’indirizzo specifico (domicilio digitale di piattaforma, domicilio digitale speciale, domicilio digitale generale, indirizzo fisico sulla notifica o sui registri nazionali)
          * `PUBLIC_REGISTRY_CALL` - Richiesta ai registri pubblici per ottenere domicilio digitale generale o per ottenere indirizzo fisico da ANPR, da registro della imprese, da anagrafe tributaria.
          * `PUBLIC_REGISTRY_RESPONSE` - Ricevuta la risposta dei registri pubblici
          * `SCHEDULE_ANALOG_WORKFLOW` - Pianificazione del workflow per invio cartaceo
          * `SCHEDULE_DIGITAL_WORKFLOW` -Pianificazione del workflow per invio digitale (PEC) del secondo tentativo in caso di fallimento del primo.
          * `PREPARE_DIGITAL_DOMICILE` - Preparazione per l’invio dell’avviso digitale.Va a valutare la timeline per capire quale sarà il prossimo indirizzo da usare.
          * `SEND_DIGITAL_DOMICILE` - Invio digitale dell’avviso di notifica
          * `SEND_DIGITAL_PROGRESS` - Tentativo di Invio PEC ad un determinato indirizzo.
          * `SEND_DIGITAL_FEEDBACK` - Ottenuto esito ad un invio digitale
          * `SCHEDULE_REFINEMENT` - Pianificato il perfezionamento per decorrenza termini
          * `REFINEMENT` - Perfezionamento per decorrenza termini
          * `DIGITAL_DELIVERY_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'atto opponibile a terzi di chiusura del workflow digitale a safe storage
          * `DIGITAL_SUCCESS_WORKFLOW` - Completato con successo il workflow di invio digitale
          * `DIGITAL_FAILURE_WORKFLOW` - Completato con fallimento il workflow di invio digitale: tutti i tentativi di invio ai domicili digitali sono falliti.
          * `ANALOG_SUCCESS_WORKFLOW` - Completato con successo il workflow di invio cartaceo
          * `ANALOG_FAILURE_WORKFLOW` - Completato con fallimento il workflow di invio cartaceo NOTA: se per tutti i destinatari si conclude il workflow con fallimento verrà scatenato l’evento COMPLETELY_UNREACHABLE
          * `PREPARE_SIMPLE_REGISTERED_LETTER` - Invio richiesta di prepare (preparazione ad invio) raccomandata semplice a paperChannel
          * `SEND_SIMPLE_REGISTERED_LETTER` - Invio di raccomandata semplice
          * `SEND_SIMPLE_REGISTERED_LETTER_PROGRESS` - Ricezione informazioni intermedia relative ad una notificazione cartacea semplice
          * `NOTIFICATION_VIEWED_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'atto opponibile a terzi di presa visione a safe storage
          * `NOTIFICATION_VIEWED` - Visualizzazione della notifica (perfeziona la notifica se non già perfezionata per decorrenza termini o da altro destinatario)
          * `PREPARE_ANALOG_DOMICILE` - Invio richiesta di prepare (preparazione ad invio) cartaceo a paperChannel
          * `SEND_ANALOG_DOMICILE` - Invio cartaceo dell’avviso di notifica
          * `SEND_ANALOG_PROGRESS` - Ricezione informazioni intermedia relative ad una notificazione cartacea
          * `SEND_ANALOG_FEEDBACK` - Ricezione esito dell'invio cartaceo
          * `COMPLETELY_UNREACHABLE_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'atto (simile a opponibile a terzi) di completamento con fallimento del workflow di invio cartaceo
          * `COMPLETELY_UNREACHABLE` - Tutti i destinatari risultano irraggiungibili
          * `AAR_CREATION_REQUEST` - Invio della richiesta di creazione, firma e marca dell'AAR (Avviso di Avvenuta Ricezione) a safe storage
          * `AAR_GENERATION` - Generazione dell’AAR (Avviso di Avvenuta Ricezione)
          * `PAYMENT` - Evento di ricezione __dal mittente__ dell'informazione di chiusura di uno o più pagamenti di tipo pagoPA (vedi #/components/schemas/PagoPaPayment). La presenza di questo evento inibisce l'invio di eventuali comunicazioni analogiche future ma non perfeziona la notifica.
          * `NOT_HANDLED` - [DEPRECATO] Per la sperimentazione l'invio analogico non è previsto, viene inserito tale elemento di timeline
          * `PROBABLE_SCHEDULING_ANALOG_DATE` - Data probabile di inizio del flusso analogico
          * `NOTIFICATION_CANCELLATION_REQUEST` - Richiesta di annullamento di una notifica
          * `NOTIFICATION_CANCELLED` - Notifica annullata
          * `PREPARE_ANALOG_DOMICILE_FAILURE` - Fallimento della richiesta di prepare (preparazione ad invio) cartaceo a paperChannel
          * `NOTIFICATION_RADD_RETRIEVED` - Accesso alla notifica tramite la rete RADD. Non perfeziona la notifica.
          * `ANALOG_WORKFLOW_RECIPIENT_DECEASED` - Destinatario deceduto
      #  categorie di diagnostica da non mostrare all'esterno: # NO EXTERNAL
      #   * `VALIDATE_F24_REQUEST` - Invio della richiesta di validazione degli F24 presenti nella richiesta di notifica # NO EXTERNAL
      #   * `VALIDATED_F24` - F24 validato # NO EXTERNAL
      #   * `GENERATE_F24_REQUEST` - Invio della richiesta di generazione degli F24 presenti nella richiesta di notifica con costo base # NO EXTERNAL
      #   * `GENERATED_F24` - F24 generati # NO EXTERNAL
      enum:
        - SENDER_ACK_CREATION_REQUEST
        - VALIDATE_NORMALIZE_ADDRESSES_REQUEST
        - NORMALIZED_ADDRESS
        - REQUEST_ACCEPTED
        - SEND_COURTESY_MESSAGE
        - GET_ADDRESS
        - PUBLIC_REGISTRY_CALL
        - PUBLIC_REGISTRY_RESPONSE
        - SCHEDULE_ANALOG_WORKFLOW
        - SCHEDULE_DIGITAL_WORKFLOW
        - PREPARE_DIGITAL_DOMICILE
        - SEND_DIGITAL_DOMICILE
        - SEND_DIGITAL_PROGRESS
        - SEND_DIGITAL_FEEDBACK
        - REFINEMENT
        - SCHEDULE_REFINEMENT
        - DIGITAL_DELIVERY_CREATION_REQUEST
        - DIGITAL_SUCCESS_WORKFLOW
        - DIGITAL_FAILURE_WORKFLOW
        - ANALOG_SUCCESS_WORKFLOW
        - ANALOG_FAILURE_WORKFLOW
        - PREPARE_SIMPLE_REGISTERED_LETTER
        - SEND_SIMPLE_REGISTERED_LETTER
        - SEND_SIMPLE_REGISTERED_LETTER_PROGRESS
        - NOTIFICATION_VIEWED_CREATION_REQUEST
        - NOTIFICATION_VIEWED
        - PREPARE_ANALOG_DOMICILE
        - SEND_ANALOG_DOMICILE
        - SEND_ANALOG_PROGRESS
        - SEND_ANALOG_FEEDBACK
        - PAYMENT
        - COMPLETELY_UNREACHABLE
        - COMPLETELY_UNREACHABLE_CREATION_REQUEST
        - REQUEST_REFUSED
        - AAR_CREATION_REQUEST
        - AAR_GENERATION
        - NOT_HANDLED
        - PROBABLE_SCHEDULING_ANALOG_DATE
        - NOTIFICATION_CANCELLATION_REQUEST
        - NOTIFICATION_CANCELLED
        - PREPARE_ANALOG_DOMICILE_FAILURE
        - NOTIFICATION_RADD_RETRIEVED
        - ANALOG_WORKFLOW_RECIPIENT_DECEASED

      ############################################################################################
      ###                                 Timeline Element                                     ###
      ############################################################################################

    TimelineElementV23:
      type: object
      additionalProperties: false
      properties:
        elementId:
          type: string
          maxLength: 512
          description: >-
            Identificativo dell'elemento di timeline: insieme allo IUN della notifica definisce in
            maniera univoca l'elemento di timeline
        timestamp:
          type: string
          description: Momento in cui avviene l'evento descritto in questo elemento
            di timeline
          format: date-time
        legalFactsIds:
          type: array
          items:
            $ref: "./schemas-pn-legal-facts-older-version.yaml#/components/schemas/LegalFactsId"
          description: >-
            Chiavi dei documenti che provano l'effettivo accadimento dell'evento descritto in timeline.
            Questo elemento
        category:
          $ref: '#/components/schemas/TimelineElementCategoryV23'
        details:
          $ref: '#/components/schemas/TimelineElementDetailsV23'

    TimelineElementV24:
      type: object
      additionalProperties: false
      properties:
        elementId:
          type: string
          maxLength: 512
          description: >-
            Identificativo dell'elemento di timeline: insieme allo IUN della notifica definisce in
            maniera univoca l'elemento di timeline
        timestamp:
          type: string
          deprecated: true
          description: Istante in cui avviene l'evento descritto in questo elemento di timeline (deprecato, fare riferimento al campo eventTimestamp)
          format: date-time
        ingestionTimestamp:
          type: string
          description: Istante in cui l'evento descritto in questo elemento di timeline è gestito da SEND
          format: date-time
        eventTimestamp:
          type: string
          description: Istante in cui avviene l'evento descritto in questo elemento di timeline
          format: date-time
        notificationSentAt:
          type: string
          description: Momento di ricezione della richiesta di notifica da parte di SEND
          format: date-time
        legalFactsIds:
          type: array
          items:
            $ref: "./schemas-pn-legal-facts-older-version.yaml#/components/schemas/LegalFactsId"
          description: >-
            Chiavi dei documenti che provano l'effettivo accadimento dell'evento descritto in timeline.
            Questo elemento
        category:
          $ref: '#/components/schemas/TimelineElementCategoryV23'
        details:
          $ref: '#/components/schemas/TimelineElementDetailsV23'

    TimelineElementV25:
      type: object
      additionalProperties: false
      properties:
        elementId:
          type: string
          maxLength: 512
          description: >-
            Identificativo dell'elemento di timeline: insieme allo IUN della notifica definisce in
            maniera univoca l'elemento di timeline
        timestamp:
          type: string
          deprecated: true
          description: Istante in cui avviene l'evento descritto in questo elemento di timeline (deprecato, fare riferimento al campo eventTimestamp)
          format: date-time
        ingestionTimestamp:
          type: string
          description: Istante in cui l'evento descritto in questo elemento di timeline è gestito da SEND
          format: date-time
        eventTimestamp:
          type: string
          description: Istante in cui avviene l'evento descritto in questo elemento di timeline
          format: date-time
        notificationSentAt:
          type: string
          description: Momento di ricezione della richiesta di notifica da parte di SEND
          format: date-time
        legalFactsIds:
          type: array
          items:
            $ref: "./schemas-pn-legal-facts.yaml#/components/schemas/LegalFactsIdV20"
          description: >-
            Chiavi dei documenti che provano l'effettivo accadimento dell'evento descritto in timeline.
            Questo elemento
        category:
          $ref: '#/components/schemas/TimelineElementCategoryV23'
        details:
          $ref: '#/components/schemas/TimelineElementDetailsV23'

    TimelineElementV26:
      type: object
      additionalProperties: false
      properties:
        elementId:
          type: string
          maxLength: 512
          description: >-
            Identificativo dell'elemento di timeline: insieme allo IUN della notifica definisce in
            maniera univoca l'elemento di timeline
        timestamp:
          type: string
          deprecated: true
          description: Istante in cui avviene l'evento descritto in questo elemento di timeline (deprecato, fare riferimento al campo eventTimestamp)
          format: date-time
        ingestionTimestamp:
          type: string
          description: Istante in cui l'evento descritto in questo elemento di timeline è gestito da SEND
          format: date-time
        eventTimestamp:
          type: string
          description: Istante in cui avviene l'evento descritto in questo elemento di timeline
          format: date-time
        notificationSentAt:
          type: string
          description: Momento di ricezione della richiesta di notifica da parte di SEND
          format: date-time
        legalFactsIds:
          type: array
          items:
            $ref: "./schemas-pn-legal-facts.yaml#/components/schemas/LegalFactsIdV20"
          description: >-
            Chiavi dei documenti che provano l'effettivo accadimento dell'evento descritto in timeline.
            Questo elemento
        category:
          $ref: '#/components/schemas/TimelineElementCategoryV26'
        details:
          $ref: '#/components/schemas/TimelineElementDetailsV26'

      ############################################################################################
      ###                              Timeline Element Details                                ###
      ############################################################################################

    TimelineElementDetailsV23:
      description: The raw event payload that will be different based on the event.
      oneOf:
        - "$ref": "#/components/schemas/SenderAckCreationRequestDetails"
        - "$ref": "#/components/schemas/NormalizedAddressDetails"
        - "$ref": "#/components/schemas/NotificationRequestAcceptedDetails"
        - "$ref": "#/components/schemas/AnalogFailureWorkflowDetails"
        - "$ref": "#/components/schemas/AnalogSuccessWorkflowDetails"
        - "$ref": "#/components/schemas/CompletelyUnreachableCreationRequestDetails"
        - "$ref": "#/components/schemas/CompletelyUnreachableDetails"
        - "$ref": "#/components/schemas/DigitalDeliveryCreationRequestDetails"
        - "$ref": "#/components/schemas/DigitalFailureWorkflowDetails"
        - "$ref": "#/components/schemas/DigitalSuccessWorkflowDetails"
        - "$ref": "#/components/schemas/GetAddressInfoDetails"
        - "$ref": "#/components/schemas/NotificationViewedCreationRequestDetailsV23"
        - "$ref": "#/components/schemas/NotificationViewedDetailsV23"
        - "$ref": "#/components/schemas/NotificationRADDRetrievedDetails"
        - "$ref": "#/components/schemas/PublicRegistryCallDetails"
        - "$ref": "#/components/schemas/PublicRegistryResponseDetails"
        - "$ref": "#/components/schemas/RefinementDetailsV23"
        - "$ref": "#/components/schemas/RequestRefusedDetailsV23"
        - "$ref": "#/components/schemas/ScheduleAnalogWorkflowDetailsV23"
        - "$ref": "#/components/schemas/ScheduleDigitalWorkflowDetailsV23"
        - "$ref": "#/components/schemas/ScheduleRefinementDetails"
        - "$ref": "#/components/schemas/SendCourtesyMessageDetails"
        - "$ref": "#/components/schemas/PrepareDigitalDetails"
        - "$ref": "#/components/schemas/SendDigitalDetails"
        - "$ref": "#/components/schemas/SendDigitalFeedbackDetails"
        - "$ref": "#/components/schemas/SendDigitalProgressDetailsV23"
        - "$ref": "#/components/schemas/BaseAnalogDetails"
        - "$ref": "#/components/schemas/SendAnalogDetails"
        - "$ref": "#/components/schemas/SendAnalogFeedbackDetails"
        - "$ref": "#/components/schemas/BaseRegisteredLetterDetails"
        - "$ref": "#/components/schemas/SimpleRegisteredLetterDetails"
        - "$ref": "#/components/schemas/AarCreationRequestDetails"
        - "$ref": "#/components/schemas/AarGenerationDetails"
        - "$ref": "#/components/schemas/NotHandledDetails"
        - "$ref": "#/components/schemas/NotificationPaidDetailsV23"
        - "$ref": "#/components/schemas/SendAnalogProgressDetailsV23"
        - "$ref": "#/components/schemas/SimpleRegisteredLetterProgressDetails"
        - "$ref": "#/components/schemas/ProbableDateAnalogWorkflowDetails"
        - "$ref": "#/components/schemas/NotificationCancellationRequestDetails"
        - "$ref": "#/components/schemas/NotificationCancelledDetails"
        - "$ref": "#/components/schemas/PrepareAnalogDomicileFailureDetails"

    TimelineElementDetailsV26:
      description: The raw event payload that will be different based on the event.
      oneOf:
        - "$ref": "#/components/schemas/SenderAckCreationRequestDetails"
        - "$ref": "#/components/schemas/NormalizedAddressDetails"
        - "$ref": "#/components/schemas/NotificationRequestAcceptedDetails"
        - "$ref": "#/components/schemas/AnalogFailureWorkflowDetails"
        - "$ref": "#/components/schemas/AnalogSuccessWorkflowDetails"
        - "$ref": "#/components/schemas/CompletelyUnreachableCreationRequestDetails"
        - "$ref": "#/components/schemas/CompletelyUnreachableDetails"
        - "$ref": "#/components/schemas/DigitalDeliveryCreationRequestDetails"
        - "$ref": "#/components/schemas/DigitalFailureWorkflowDetails"
        - "$ref": "#/components/schemas/DigitalSuccessWorkflowDetails"
        - "$ref": "#/components/schemas/GetAddressInfoDetails"
        - "$ref": "#/components/schemas/NotificationViewedCreationRequestDetailsV23"
        - "$ref": "#/components/schemas/NotificationViewedDetailsV23"
        - "$ref": "#/components/schemas/NotificationRADDRetrievedDetails"
        - "$ref": "#/components/schemas/PublicRegistryCallDetails"
        - "$ref": "#/components/schemas/PublicRegistryResponseDetails"
        - "$ref": "#/components/schemas/RefinementDetailsV23"
        - "$ref": "#/components/schemas/RequestRefusedDetailsV25"
        - "$ref": "#/components/schemas/ScheduleAnalogWorkflowDetailsV23"
        - "$ref": "#/components/schemas/ScheduleDigitalWorkflowDetailsV23"
        - "$ref": "#/components/schemas/ScheduleRefinementDetails"
        - "$ref": "#/components/schemas/SendCourtesyMessageDetails"
        - "$ref": "#/components/schemas/PrepareDigitalDetails"
        - "$ref": "#/components/schemas/SendDigitalDetails"
        - "$ref": "#/components/schemas/SendDigitalFeedbackDetails"
        - "$ref": "#/components/schemas/SendDigitalProgressDetailsV23"
        - "$ref": "#/components/schemas/BaseAnalogDetails"
        - "$ref": "#/components/schemas/SendAnalogDetails"
        - "$ref": "#/components/schemas/SendAnalogFeedbackDetailsV25"
        - "$ref": "#/components/schemas/BaseRegisteredLetterDetails"
        - "$ref": "#/components/schemas/SimpleRegisteredLetterDetails"
        - "$ref": "#/components/schemas/AarCreationRequestDetails"
        - "$ref": "#/components/schemas/AarGenerationDetails"
        - "$ref": "#/components/schemas/NotHandledDetails"
        - "$ref": "#/components/schemas/NotificationPaidDetailsV23"
        - "$ref": "#/components/schemas/SendAnalogProgressDetailsV23"
        - "$ref": "#/components/schemas/SimpleRegisteredLetterProgressDetails"
        - "$ref": "#/components/schemas/ProbableDateAnalogWorkflowDetails"
        - "$ref": "#/components/schemas/NotificationCancellationRequestDetails"
        - "$ref": "#/components/schemas/NotificationCancelledDetails"
        - "$ref": "#/components/schemas/PrepareAnalogDomicileFailureDetails"
        - "$ref": "#/components/schemas/AnalogWorkflowRecipientDeceasedDetailsV26"

    NotificationRequestAcceptedDetails:
      type: object
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32

    AnalogFailureWorkflowDetails:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        generatedAarUrl:
          type: string
          maxLength: 128
          description: Chiave per recupero da safe-storage del documento aar


    CompletelyUnreachableCreationRequestDetails:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        legalfactId:
          type: string
          maxLength: 128
          description: Identificativo dell'atto opponibile a terzi del quale è stata richiesta la creazione
        endWorkflowStatus:
          $ref: "#/components/schemas/EndWorkflowStatus"
        completionWorkflowDate:
          type: string
          description: Data chiusura workflow
          format: date-time

    AnalogSuccessWorkflowDetails:
      type: object
      required:
        - recIndex
        - physicalAddress
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        physicalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"

    DigitalFailureWorkflowDetails:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32

    DigitalDeliveryCreationRequestDetails:
      type: object
      required:
        - recIndex
        - digitalAddress
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        digitalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/DigitalAddress"
        endWorkflowStatus:
          $ref: "#/components/schemas/EndWorkflowStatus"
        completionWorkflowDate:
          type: string
          description: Data chiusura workflow
          format: date-time
        legalfactId:
          type: string
          maxLength: 128
          description: Identificativo dell'atto opponibile a terzi del quale è stata richiesta la creazione

    DigitalSuccessWorkflowDetails:
      type: object
      required:
        - recIndex
        - digitalAddress
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        digitalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/DigitalAddress"

    CompletelyUnreachableDetails:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        legalFactGenerationDate:
          type: string
          description: Data generazione atto opponibile a terzi allegato
          format: date-time

    GetAddressInfoDetails:
      type: object
      required:
        - recIndex
        - digitalAddressSource
        - isAvailable
        - attemptDate
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        digitalAddressSource:
          $ref: '#/components/schemas/DigitalAddressSource'
        isAvailable:
          type: boolean
          description: Disponibilità indirizzo
        attemptDate:
          type: string
          description: Data tentativo
          format: date-time

    NotificationViewedCreationRequestDetailsV23:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        legalfactId:
          type: string
          maxLength: 128
          description: Identificativo dell'atto opponibile a terzi del quale è stata richiesta la creazione
        eventTimestamp:
          type: string
          description: Data ricezione richiesta visualizzazione notifica
          format: date-time
        raddType:
          $ref: '#/components/schemas/RaddTypeV23'
        raddTransactionId:
          $ref: '#/components/schemas/RaddTransactionId'
        delegateInfo:
          $ref: '#/components/schemas/DelegateInfo'

    NotificationRADDRetrievedDetails:
      type: object
      required:
        - recIndex
        - raddType
        - raddTransactionId
        - eventTimestamp
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        raddType:
          $ref: '#/components/schemas/RaddTypeV23'
        raddTransactionId:
          $ref: '#/components/schemas/RaddTransactionId'
        eventTimestamp:
          type: string
          description: Data evento
          format: date-time

    NotificationViewedDetailsV23:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        notificationCost:
          description: costo notifica in euro cents, può essere nullo se la notifica si è perfezionata prima per decorrenza termini
          example: 1220
          type: integer
          format: int64
        raddType:
          $ref: '#/components/schemas/RaddTypeV23'
        raddTransactionId:
          $ref: '#/components/schemas/RaddTransactionId'
        delegateInfo:
          $ref: '#/components/schemas/DelegateInfo'
        eventTimestamp:
          type: string
          description: Data evento visualizzazione
          format: date-time

    PublicRegistryCallDetails:
      type: object
      required:
        - recIndex
        - deliveryMode
        - contactPhase
        - sentAttemptMade
        - sendDate
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        deliveryMode:
          $ref: '#/components/schemas/DeliveryMode'
        contactPhase:
          $ref: '#/components/schemas/ContactPhase'
        sentAttemptMade:
          type: integer
          description: Numero di tentativi di notificazione già effettuati
          format: int32
        sendDate:
          type: string
          description: Data invio richiesta ai public registry
          format: date-time

    PublicRegistryResponseDetails:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        digitalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/DigitalAddress"
        physicalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"

    RefinementDetailsV23:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        notificationCost:
          description: costo notifica in euro cents, può essere nullo se la notifica si è perfezionata prima per visualizzazione
          example: 1220
          type: integer
          format: int64
        eventTimestamp:
          type: string
          description: Data evento refinement
          format: date-time

    RequestRefusedDetailsV23:
      type: object
      properties:
        refusalReasons:
          type: array
          description: Motivazioni che hanno portato al rifiuto della notifica
          items:
            $ref: '#/components/schemas/NotificationRefusedErrorV23'

    RequestRefusedDetailsV25:
      type: object
      properties:
        refusalReasons:
          type: array
          description: Motivazioni che hanno portato al rifiuto della notifica
          items:
            $ref: '#/components/schemas/NotificationRefusedErrorV25'

    ScheduleAnalogWorkflowDetailsV23:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        schedulingDate:
          type: string
          description: Data prevista per l'inizio dell'invio analogico
          format: date-time

    ScheduleDigitalWorkflowDetailsV23:
      type: object
      required:
        - recIndex
        - digitalAddressSource
        - sentAttemptMade
        - lastAttemptDate
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        digitalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/DigitalAddress"
        digitalAddressSource:
          $ref: '#/components/schemas/DigitalAddressSource'
        sentAttemptMade:
          type: integer
          format: int32
        lastAttemptDate:
          type: string
          format: date-time
        schedulingDate:
          type: string
          description: Data prevista prossimo tentativo d'invio digitale per quella specifica sorgente di indirizzo
          format: date-time

    ScheduleRefinementDetails:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        schedulingDate:
          type: string
          format: date-time

    SendCourtesyMessageDetails:
      type: object
      required:
        - recIndex
        - digitalAddress
        - sendDate
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        digitalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/DigitalAddress"
        sendDate:
          type: string
          description: data invio messaggio di cortesia
          format: date-time
        ioSendMessageResult:
          $ref: '#/components/schemas/IoSendMessageResult'

    PrepareDigitalDetails:
      type: object
      required:
        - recIndex
        - digitalAddressSource
        - retryNumber
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        digitalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/DigitalAddress"
        digitalAddressSource:
          $ref: '#/components/schemas/DigitalAddressSource'
        retryNumber:
          type: integer
          description: numero dei tentativi effettuati
          format: int32
        attemptDate:
          type: string
          description: data tentativo precedente
          format: date-time
        nextDigitalAddressSource:
          $ref: '#/components/schemas/DigitalAddressSource'
        nextSourceAttemptsMade:
          type: integer
          description: numero del prossimo tentativo da effettuare
          format: int32
        nextLastAttemptMadeForSource:
          type: string
          description: data tentativo precedente per prossimo source
          format: date-time

    SendDigitalDetails:
      type: object
      required:
        - recIndex
        - digitalAddress
        - digitalAddressSource
        - retryNumber
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        digitalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/DigitalAddress"
        digitalAddressSource:
          $ref: '#/components/schemas/DigitalAddressSource'
        retryNumber:
          type: integer
          description: numero dei tentativi effettuati
          format: int32

    SendDigitalProgressDetailsV23:
      type: object
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        deliveryFailureCause:
          description: Codice errore, opzionale
          type: string
        deliveryDetailCode:
          type: string
          description: Vedi deliveryDetailCode in SendDigitalFeedbackDetails
        shouldRetry:
          type: boolean
          description: indica se il progress ha dato luogo ad un ritentativo
        digitalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/DigitalAddress"
        digitalAddressSource:
          $ref: '#/components/schemas/DigitalAddressSource'
        notificationDate:
          type: string
          description: data notifica
          format: date-time
        sendingReceipts:
          type: array
          items:
            $ref: '#/components/schemas/SendingReceipt'
        retryNumber:
          type: integer
          description: numero dei tentativi effettuati
          format: int32
        eventTimestamp:
          type: string
          description: Data evento
          format: date-time

    SendDigitalFeedbackDetails:
      type: object
      required:
        - recIndex
        - digitalAddress
        - responseStatus
        - notificationDate
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        digitalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/DigitalAddress"
        responseStatus:
          $ref: '#/components/schemas/ResponseStatus'
        notificationDate:
          type: string
          description: data notifica
          format: date-time
        deliveryFailureCause:
          description: Codice errore, vuoto in caso di successo
          type: string
        deliveryDetailCode:
          type: string
          description: >
            Stato - Codice relativo all'evento - Descrizione:
              - PROGRESS   C000 = PREACCETTAZIONE
              - PROGRESS   C001 = ACCETTAZIONE
              - PROGRESS   C005 = PRESA_IN_CARICO
              - PROGRESS   C007 = PREAVVISO_ERRORE_CONSEGNA
              - PROGRESS   DP00 = RE-INVIO PEC CAUSA FALLIMENTO TEMPORANEO
              - PROGRESS   DP10 = TIMEOUT RICEZIONE RISULTATO
              - ERROR      C002 = NON_ACCETTAZIONE
              - ERROR      C004 = ERRORE_CONSEGNA
              - ERROR      C006 = RILEVAZIONE_VIRUS
              - ERROR      C008 = ERRORE_COMUNICAZIONE_SERVER_PEC
              - ERROR      C009 = ERRORE_DOMINIO_PEC_NON_VALIDO
              - ERROR      C010 = ERROR_INVIO_PEC
              - OK         C003 = AVVENUTA_CONSEGNA
        sendingReceipts:
          type: array
          items:
            $ref: '#/components/schemas/SendingReceipt'

    BaseAnalogDetails:
      type: object
      required:
        - recIndex
        - physicalAddress
        - serviceLevel
        - sentAttemptMade
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        physicalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        serviceLevel:
          "$ref": "#/components/schemas/ServiceLevel"
        sentAttemptMade:
          type: integer
          description: numero dei tentativi effettuati
          format: int32
        relatedRequestId:
          type: string
          description: Id relativo alla eventuale precedente richiesta di invio cartaceo
          maxLength: 512

    SendAnalogDetails:
      type: object
      required:
        - recIndex
        - physicalAddress
        - serviceLevel
        - sentAttemptMade
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        physicalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        serviceLevel:
          "$ref": "#/components/schemas/ServiceLevel"
        sentAttemptMade:
          type: integer
          description: numero dei tentativi effettuati
          format: int32
        relatedRequestId:
          type: string
          description: Id relativo alla eventuale precedente richiesta di invio cartaceo
          maxLength: 512
        productType:
          type: string
          maxLength: 10
          description: >
            Tipo di invio cartaceo effettivamente inviato
              - __AR__: Raccomandata nazionale Andata e Ritorno
              - __890__: Recapito a norma della legge 890/1982
              - __RIR__: Raccomandata internazionale Andata e Ritorno
        analogCost:
          type: integer
          description: costo in eurocent dell'invio
          format: int32
        numberOfPages:
          type: integer
          description: numero delle pagina che compongono la spedizione cartacea
          format: int32
        envelopeWeight:
          type: integer
          description: peso in grammi della busta
          format: int32
        prepareRequestId:
          type: string
          description: request id della relativa richiesta di prepare
          maxLength: 512

    SendAnalogFeedbackDetails:
      type: object
      required:
        - recIndex
        - physicalAddress
        - serviceLevel
        - sentAttemptMade
        - responseStatus
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        physicalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        serviceLevel:
          "$ref": "#/components/schemas/ServiceLevel"
        sentAttemptMade:
          type: integer
          description: numero dei tentativi effettuati
          format: int32
        newAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        responseStatus:
          $ref: '#/components/schemas/ResponseStatus'
        notificationDate:
          type: string
          format: date-time
        deliveryFailureCause:
          type: string
          maxLength: 10
          description: >
            __Motivazione di mancata consegna__ obbligatorie negli stati di mancata consegna
              - __M01__ destinatario irreperibile
              - __M02__ destinatario deceduto
              - __M03__ destinatario sconosciuto
              - __M04__ destinatario trasferito
              - __M05__ invio rifiutato
              - __M06__ indirizzo inesatto
              - __M07__ indirizzo inesistente
              - __M08__ indirizzo insufficiente
              - __F01__ - in caso di furto
              - __F02__ - in caso di smarrimento
              - __F03__ - in caso di deterioramento
        deliveryDetailCode:
          type: string
          maxLength: 20
          description: >
            Formato: - __deliveryDetailCode__- [prodotto] - [statusCode] - statusDescription
              - __CON080__- [ALL] - [PROGRESS] - Stampato ed Imbustato
              - __RECRS001C__- [RS] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECRS002C__- [RS] - [KO] - Mancata consegna - Fascicolo Chiuso
              - __RECRS002F__- [RS] - [KO] - Irreperibilità Assoluta - Fascicolo Chiuso
              - __RECRS003C__- [RS] - [OK] - Consegnato presso Punti di Giacenza - Fascicolo Chiuso
              - __RECRS004C__- [RS] - [OK] - Mancata consegna presso Punti di Giacenza - Fascicolo Chiuso
              - __RECRS005C__- [RS] - [OK] - Compiuta giacenza - Fascicolo Chiuso
              - __RECRS006__- [RS] - [PROGRESS] - Furto/Smarrimento/deterioramento
              - __RECRN001C__- [AR] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECRN002C__- [AR] - [KO] - Mancata consegna - Fascicolo Chiuso
              - __RECRN002F__- [AR] - [KO] - Irreperibilità Assoluta - Fascicolo Chiuso
              - __RECRN003C__- [AR] - [OK] - Consegnato presso Punti di Giacenza - Fascicolo Chiuso
              - __RECRN004C__- [AR] - [KO] - Mancata consegna presso Punti di Giacenza - Fascicolo Chiuso
              - __RECRN005C__- [AR] - [OK] - Compiuta giacenza - Fascicolo Chiuso
              - __RECRN006__- [AR] - [PROGRESS] - Furto/Smarrimento/deterioramento
              - __RECAG001C__- [890] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECAG002C__- [890] - [OK] - Consegnato a persona abilitata - Fascicolo Chiuso
              - __RECAG003C__- [890] - [KO] - Mancata consegna - Fascicolo Chiuso
              - __RECAG003F__- [890] - [KO] - Irreperibilità Assoluta - Fascicolo Chiuso
              - __RECAG004__- [890] - [PROGRESS] - Furto/Smarrimento/deterioramento
              - __RECAG005C__- [890] - [OK | PROGRESS] - Consegnato presso Punti di Giacenza - Fascicolo Chiuso
              - __RECAG006C__- [890] - [OK | PROGRESS] - Consegna a persona abilitata presso Punti di Giacenza - Fas. Ch.
              - __RECAG007C__- [890] - [KO | PROGRESS] - Mancata consegna presso Punti di Giacenza - Fascicolo Chiuso
              - __RECAG008C__- [890] - [PROGRESS] - Compiuta giacenza - Fascicolo Chiuso
              - __PNAG012__- [890] - [KO] - Distacco d'ufficio 23L - Fascicolo Chiuso
              - __RECRI003C__- [RIR] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECRI004C__- [RIR] - [KO] - Non Consegnato - fascicolo Chiuso
              - __RECRI005__- [RIR] - [PROGRESS] - Furto/Smarrimento/deterioramento
              - __RECRSI003C__- [RIS] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECRSI004C__- [RIS] - [KO] - Non Consegnato - fascicolo Chiuso
              - __RECRSI005__- [RIS] - [PROGRESS] - Furto/Smarrimento/deterioramento
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/AttachmentDetails'
        sendRequestId:
          type: string
          description: RequestId della richiesta d'invio
          maxLength: 512
        registeredLetterCode:
          type: string
          description: Codice della raccomandata
          maxLength: 128

    SendAnalogFeedbackDetailsV25:
      type: object
      required:
        - recIndex
        - physicalAddress
        - serviceLevel
        - sentAttemptMade
        - responseStatus
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        physicalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        serviceLevel:
          "$ref": "#/components/schemas/ServiceLevel"
        sentAttemptMade:
          type: integer
          description: numero dei tentativi effettuati
          format: int32
        newAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        responseStatus:
          $ref: '#/components/schemas/ResponseStatus'
        notificationDate:
          type: string
          format: date-time
        deliveryFailureCause:
          type: string
          maxLength: 10
          description: >
            __Motivazione di mancata consegna__ obbligatorie negli stati di mancata consegna
              - __M01__ destinatario irreperibile
              - __M02__ destinatario deceduto
              - __M03__ destinatario sconosciuto
              - __M04__ destinatario trasferito
              - __M05__ invio rifiutato
              - __M06__ indirizzo inesatto
              - __M07__ indirizzo inesistente
              - __M08__ indirizzo insufficiente
              - __F01__ - in caso di furto
              - __F02__ - in caso di smarrimento
              - __F03__ - in caso di deterioramento
        deliveryDetailCode:
          type: string
          maxLength: 20
          description: >
            Formato: - __deliveryDetailCode__- [prodotto] - [statusCode] - statusDescription
              - __CON020__- [ALL] - [PROGRESS] - Originale dell’AAR (documento nativo digitale) reso disponibile dal Consolidatore e firmato digitalmente da PagoPA
              - __CON080__- [ALL] - [PROGRESS] - Stampato ed Imbustato
              - __RECRS001C__- [RS] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECRS002C__- [RS] - [KO] - Mancata consegna - Fascicolo Chiuso
              - __RECRS002F__- [RS] - [KO] - Irreperibilità Assoluta - Fascicolo Chiuso
              - __RECRS003C__- [RS] - [OK] - Consegnato presso Punti di Giacenza - Fascicolo Chiuso
              - __RECRS004C__- [RS] - [OK] - Mancata consegna presso Punti di Giacenza - Fascicolo Chiuso
              - __RECRS005C__- [RS] - [OK] - Compiuta giacenza - Fascicolo Chiuso
              - __RECRS006__- [RS] - [PROGRESS] - Furto/Smarrimento/deterioramento
              - __RECRN001C__- [AR] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECRN002C__- [AR] - [KO] - Mancata consegna - Fascicolo Chiuso
              - __RECRN002F__- [AR] - [KO] - Irreperibilità Assoluta - Fascicolo Chiuso
              - __RECRN003C__- [AR] - [OK] - Consegnato presso Punti di Giacenza - Fascicolo Chiuso
              - __RECRN004C__- [AR] - [KO] - Mancata consegna presso Punti di Giacenza - Fascicolo Chiuso
              - __RECRN005C__- [AR] - [OK] - Compiuta giacenza - Fascicolo Chiuso
              - __RECRN006__- [AR] - [PROGRESS] - Furto/Smarrimento/deterioramento
              - __RECAG001C__- [890] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECAG002C__- [890] - [OK] - Consegnato a persona abilitata - Fascicolo Chiuso
              - __RECAG003C__- [890] - [KO] - Mancata consegna - Fascicolo Chiuso
              - __RECAG003F__- [890] - [KO] - Irreperibilità Assoluta - Fascicolo Chiuso
              - __RECAG004__- [890] - [PROGRESS] - Furto/Smarrimento/deterioramento
              - __RECAG005C__- [890] - [OK | PROGRESS] - Consegnato presso Punti di Giacenza - Fascicolo Chiuso
              - __RECAG006C__- [890] - [OK | PROGRESS] - Consegna a persona abilitata presso Punti di Giacenza - Fas. Ch.
              - __RECAG007C__- [890] - [KO | PROGRESS] - Mancata consegna presso Punti di Giacenza - Fascicolo Chiuso
              - __RECAG008C__- [890] - [PROGRESS] - Compiuta giacenza - Fascicolo Chiuso
              - __PNAG012__- [890] - [KO] - Distacco d'ufficio 23L - Fascicolo Chiuso
              - __RECRI003C__- [RIR] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECRI004C__- [RIR] - [KO] - Non Consegnato - fascicolo Chiuso
              - __RECRI005__- [RIR] - [PROGRESS] - Furto/Smarrimento/deterioramento
              - __RECRSI003C__- [RIS] - [OK] - Consegnato - Fascicolo Chiuso
              - __RECRSI004C__- [RIS] - [KO] - Non Consegnato - fascicolo Chiuso
              - __RECRSI005__- [RIS] - [PROGRESS] - Furto/Smarrimento/deterioramento
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/AttachmentDetails'
        sendRequestId:
          type: string
          description: RequestId della richiesta d'invio
          maxLength: 512
        registeredLetterCode:
          type: string
          description: Codice della raccomandata
          maxLength: 128

    BaseRegisteredLetterDetails:
      type: object
      required:
        - recIndex
        - physicalAddress
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        physicalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"


    SimpleRegisteredLetterDetails:
      type: object
      required:
        - recIndex
        - physicalAddress
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        physicalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        productType:
          type: string
          maxLength: 10
          description: >
            Tipo di invio cartaceo effettivamente inviato
              - __RS__: Raccomandata nazionale Semplice (per Avviso di mancato Recapito)
              - __RIS__: Raccomandata internazionale Semplice
        analogCost:
          type: integer
          description: costo in eurocent dell'invio
          format: int32
        numberOfPages:
          type: integer
          description: numero delle pagina che compongono la spedizione cartacea
          format: int32
        envelopeWeight:
          type: integer
          description: peso in grammi della busta
          format: int32
        prepareRequestId:
          type: string
          description: request id della relativa richiesta di prepare
          maxLength: 512

    AarCreationRequestDetails:
      type: object
      required:
        - recIndex
        - aarKey
        - numberOfPages
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        aarKey:
          type: string
          description: Chiave per recupero da safe-storage del documento aar
          maxLength: 128
        numberOfPages:
          type: integer
          description: numero di pagine del PDF generato
          format: int32

    AarGenerationDetails:
      type: object
      required:
        - recIndex
        - generatedAarUrl
        - numberOfPages
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        generatedAarUrl:
          type: string
          description: Chiave per recupero da safe-storage del documento aar
          maxLength: 128
        numberOfPages:
          type: integer
          description: numero di pagine del PDF generato
          format: int32

    NotHandledDetails:
      type: object
      required:
        - recIndex
        - reasonCode
        - reason
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        reasonCode:
          type: string
          description: Codice motivazione casistica non gestita
          maxLength: 10
        reason:
          type: string
          description: Motivazione casistica non gestita
          maxLength: 2048

    NotificationPaidDetailsV23:
      type: object
      required:
        - recIndex
        - recipientType
        - paymentSourceChannel
      properties:
        recIndex:
          type: integer
          description: Index destinatario che ha effettuato il pagamento della notifica
          format: int32
        recipientType:
          $ref: './schemas-pn-notification.yaml#/components/schemas/RecipientType'
        amount:
          type: integer
          description: Importo di pagamento in eurocent
          format: int32
        creditorTaxId:
          $ref: 'remote-refs.yaml#/components/schemas/PaTaxId'
        noticeCode:
          $ref: 'remote-refs.yaml#/components/schemas/NoticeCode'
        idF24:
          type: string
          description: un UUID che identifica un pagamento f24
          maxLength: 512
        paymentSourceChannel:
          type: string
          description: Canale sorgente della richiesta di pagamento
          maxLength: 512
        uncertainPaymentDate:
          deprecated: true
          type: boolean
          description: Indica se la data di pagamento é certa
        eventTimestamp:
          type: string
          description: Data evento pagamento
          format: date-time

    SendAnalogProgressDetailsV23:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario che ha effettuato il pagamento della notifica
          format: int32
        notificationDate:
          type: string
          format: date-time
        deliveryFailureCause:
          type: string
          maxLength: 10
          description: Vedi deliveryFailureCause in SendAnalogFeedbackDetails
        deliveryDetailCode:
          type: string
          maxLength: 20
          description: Vedi deliveryDetailCode in SendAnalogFeedbackDetails
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/AttachmentDetails'
        sendRequestId:
          type: string
          description: RequestId della richiesta d'invio
          maxLength: 512
        registeredLetterCode:
          type: string
          description: Codice della raccomandata
          maxLength: 128
        serviceLevel:
          "$ref": "#/components/schemas/ServiceLevel"


    SimpleRegisteredLetterProgressDetails:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario che ha effettuato il pagamento della notifica
          format: int32
        notificationDate:
          type: string
          format: date-time
        deliveryFailureCause:
          type: string
          maxLength: 10
          description: Vedi deliveryFailureCause in SendAnalogFeedbackDetails
        deliveryDetailCode:
          type: string
          maxLength: 20
          description: Vedi deliveryDetailCode in SendAnalogFeedbackDetails
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/AttachmentDetails'
        sendRequestId:
          type: string
          description: RequestId della richiesta d'invio
          maxLength: 512
        registeredLetterCode:
          type: string
          description: Codice della raccomandata
          maxLength: 128

    ProbableDateAnalogWorkflowDetails:
      type: object
      required:
        - recIndex
        - schedulingAnalogDate
      properties:
        recIndex:
          type: integer
          description: Index destinatario che ha effettuato il pagamento della notifica
          format: int32
        schedulingAnalogDate:
          type: string
          format: date-time
          description: Data probabile di inizio del flusso analogico

    SenderAckCreationRequestDetails:
      type: object
      properties:
        legalFactId:
          type: string
          maxLength: 128
          description: >-
            Identificativo dell'atto opponibile a terzi del quale è stata richiesta la creazione

    NormalizedAddressDetails:
      type: object
      required:
        - recIndex
        - oldAddress
        - normalizedAddress
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        oldAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        normalizedAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"

    NotificationCancellationRequestDetails:
      type: object
      required:
        - cancellationRequestId
      properties:
        cancellationRequestId:
          type: string
          description: Id della richiesta
          maxLength: 512

    NotificationCancelledDetails:
      type: object
      required:
        - notificationCost
        - notRefinedRecipientIndexes
      properties:
        notificationCost:
          description: costo notifica in euro cents, vale 100 * numero di recipient not refined
          example: 1220
          type: integer
          format: int64
        notRefinedRecipientIndexes:
          type: array
          items:
            description: indice del recipient non perfezionato
            type: integer
            format: int32

    PrepareAnalogDomicileFailureDetails:
      type: object
      required:
        - recIndex
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        foundAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        failureCause:
          type: string
          maxLength: 10
          description: >
            __Motivazione fallimento prepare
              - __D00__ Indirizzo non trovato
              - __D01__ Indirizzo non valido
              - __D02__ Indirizzo coincidente con quello del primo tentativo
        prepareRequestId:
          type: string
          description: RequestId della richiesta di prepare
          maxLength: 512

    DigitalAddressSource:
      type: string
      description: sorgente indirizzo di invio della notifica
      enum:
        - PLATFORM
        - SPECIAL
        - GENERAL

    ServiceLevel:
      type: string
      description: Livello Servizio
      enum:
        - AR_REGISTERED_LETTER
        - REGISTERED_LETTER_890

    ResponseStatus:
      type: string
      description: stato risposta ricevuta da externalChannel
      enum:
        - OK
        - KO

    ContactPhase:
      type: string
      description: Fase in cui è avvenuta la richiesta
      enum:
        - CHOOSE_DELIVERY
        - SEND_ATTEMPT

    DeliveryMode:
      type: string
      description: Tipologia Domiciliazione
      enum:
        - DIGITAL
        - ANALOG

    EndWorkflowStatus:
      type: string
      description: Stato chiusura workflow
      enum:
        - SUCCESS
        - FAILURE

    SendingReceipt:
      type: object
      properties:
        id:
          type: string
          description: messageId del server mittente
          maxLength: 1024
        system:
          type: string
          description: nome del server mittente
          maxLength: 128


    RaddTypeV23:
      type: string
      description: |
        tipo di Rete Anti Digital Divide <br/>
        __FSU__: Fornitore Servizio Universale <br/>
        __ALT__: Fornitore RADD Alternativa <br/>

    RaddTransactionId:
      type: string
      description: Identificativo della pratica all'interno della rete RADD
      maxLength: 512

    DelegateInfo:
      type: object
      properties:
        internalId:
          type: string
          maxLength: 128
        taxId:
          x-field-extra-annotation: "@lombok.ToString.Exclude" # NO EXTERNAL
          type: string
          maxLength: 128
        operatorUuid:
          type: string
          maxLength: 128
        mandateId:
          type: string
          maxLength: 128
        denomination:
          x-field-extra-annotation: "@lombok.ToString.Exclude" # NO EXTERNAL
          type: string
          maxLength: 128
        delegateType:
          $ref: './schemas-pn-notification.yaml#/components/schemas/RecipientType'

    IoSendMessageResult:
      type: string
      description: Risultato invio messaggio su IO
      enum:
        - NOT_SENT_OPTIN_ALREADY_SENT
        - SENT_COURTESY
        - SENT_OPTIN

    AttachmentDetails:
      type: object
      properties:
        id:
          type: string
          maxLength: 128
        documentType:
          type: string
          maxLength: 20
          description: >
            Codici documentType:
            - Plico: Indica il plico cartaceo
            - AR: Indica la ricevuta di ritorno
            - Indagine: Indica la ricevuta dell'analisi dell'indagine
            - 23L: Indica la ricevuta 23L
        url:
          type: string
          maxLength: 128
        date:
          type: string
          format: date-time

    NotificationRefusedErrorV23:
      type: object
      properties:
        errorCode:
          type: string
          maxLength: 128
          description: >-
            Errori di rifiuto della notifica.
              - FILE_NOTFOUND
              - FILE_SHA_ERROR
              - TAXID_NOT_VALID
              - SERVICE_UNAVAILABLE
              - FILE_PDF_INVALID_ERROR
              - FILE_PDF_TOOBIG_ERROR
              - NOT_VALID_ADDRESS
              - RECIPIENT_ID_NOT_VALID
              - F24_METADATA_NOT_VALID
              - PAYMENT_NOT_VALID
              ...
        detail:
          type: string
          maxLength: 2048

    NotificationRefusedErrorV25:
      type: object
      properties:
        errorCode:
          type: string
          maxLength: 128
          description: >-
            Errori di rifiuto della notifica.
              - FILE_NOTFOUND - I riferimenti dei documenti nella notifica non sono corretti o i documenti non sono stati caricati con successo.
              - FILE_GONE - Allegato non disponibile: superati i termini di conservazione
              - FILE_SHA_ERROR - Il digest calcolato con algoritmi sha256 dei documenti inseriti non è corrispondete a quello del file referenziato.
              - FILE_PDF_INVALID_ERROR - Il file inserito non è in formato pdf.
              - FILE_PDF_TOOBIG_ERROR - Il file pdf ha una dimensione eccedente il limite di 200MB.
              - F24_METADATA_NOT_VALID - I dati contenuti del file dei metadati F24 non rispettano lo schema di validazione.
              - TAXID_NOT_VALID - Codice fiscale del destinatario non corretto (non ancora implementato).
              - RECIPIENT_ID_NOT_VALID - Destinatario non Valido (utilizzato solo per funzionalità non ancora implementate)
              - NOT_VALID_ADDRESS - L'indirizzo di invio cartaceo inserito per il destinatario non ha superato i controlli di correttezza.
              - PAYMENT_NOT_VALID - I dati del pagamento non sono sono registrati sulla piattaforma GPD (modalità asincrona di integrazione pagoPA)
              - SERVICE_UNAVAILABLE - Il sistema non è attualmente disponibile.
              ...
        detail:
          type: string
          maxLength: 2048

    AnalogWorkflowRecipientDeceasedDetailsV26:
      type: object
      required:
        - recIndex
        - physicalAddress
      properties:
        recIndex:
          type: integer
          description: Index destinatario notifica digitale
          format: int32
        physicalAddress:
          $ref: "./schemas-addresses.yaml#/components/schemas/PhysicalAddress"
        notificationCost:
          description: costo notifica in euro cents, può essere nullo se la notifica è stata precedentemente visualizzata
          example: 1220
          type: integer
          format: int64
